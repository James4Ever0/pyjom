"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.metaGeneratorToken = exports.callCredToken = void 0;
const grpc_js_js_1 = require("./grpc-js.js");
/**
 * With server authentication SSL/TLS and a custom header with token
 *  https://grpc.io/docs/guides/auth/#with-server-authentication-ssltls-and-a-custom-header-with-token-1
 */
const metaGeneratorToken = token => (_params, callback) => {
    const meta = new grpc_js_js_1.Metadata();
    meta.add('authorization', `Wechaty ${token}`);
    callback(null, meta);
};
exports.metaGeneratorToken = metaGeneratorToken;
const callCredToken = (token) => grpc_js_js_1.credentials.createFromMetadataGenerator(metaGeneratorToken(token));
exports.callCredToken = callCredToken;
//# sourceMappingURL=call-cred.js.map