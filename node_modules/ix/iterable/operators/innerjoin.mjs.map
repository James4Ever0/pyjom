{"version":3,"sources":["iterable/operators/innerjoin.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,MAAM,cAAc,CAAC;AACzC,OAAO,EAAE,cAAc,EAAE,MAAM,aAAa,CAAC;AAC7C,OAAO,EAAE,QAAQ,EAAE,MAAM,qBAAqB,CAAC;AAG/C,MAAM,OAAO,YAA4C,SAAQ,SAAkB;IACzE,MAAM,CAAmB;IACzB,MAAM,CAAmB;IACzB,cAAc,CAA0B;IACxC,cAAc,CAA0B;IACxC,eAAe,CAA4C;IAEnE,YACE,KAAuB,EACvB,KAAuB,EACvB,aAAsC,EACtC,aAAsC,EACtC,cAAyD;QAEzD,KAAK,EAAE,CAAC;QACR,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACpB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACpB,IAAI,CAAC,cAAc,GAAG,aAAa,CAAC;QACpC,IAAI,CAAC,cAAc,GAAG,aAAa,CAAC;QACpC,IAAI,CAAC,eAAe,GAAG,cAAc,CAAC;IACxC,CAAC;IAED,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC;QAChB,MAAM,GAAG,GAAG,cAAc,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,cAAc,EAAE,QAAQ,CAAC,CAAC;QACvE,KAAK,MAAM,YAAY,IAAI,IAAI,CAAC,MAAM,EAAE;YACtC,MAAM,QAAQ,GAAG,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,CAAC;YACnD,IAAI,GAAG,CAAC,GAAG,CAAC,QAAQ,CAAC,EAAE;gBACrB,KAAK,MAAM,YAAY,IAAI,GAAG,CAAC,GAAG,CAAC,QAAQ,CAAE,EAAE;oBAC7C,MAAM,IAAI,CAAC,eAAe,CAAC,YAAY,EAAE,YAAY,CAAC,CAAC;iBACxD;aACF;SACF;IACH,CAAC;CACF;AAED;;;;;;;;;;;;;;;;GAgBG;AACH,MAAM,UAAU,SAAS,CACvB,KAAuB,EACvB,aAAsC,EACtC,aAAsC,EACtC,cAAyD;IAEzD,OAAO,SAAS,yBAAyB,CAAC,KAAuB;QAC/D,OAAO,IAAI,YAAY,CACrB,KAAK,EACL,KAAK,EACL,aAAa,EACb,aAAa,EACb,cAAc,CACf,CAAC;IACJ,CAAC,CAAC;AACJ,CAAC","file":"innerjoin.js","sourcesContent":["import { IterableX } from '../iterablex';\nimport { createGrouping } from './_grouping';\nimport { identity } from '../../util/identity';\nimport { OperatorFunction } from '../../interfaces';\n\nexport class JoinIterable<TOuter, TInner, TKey, TResult> extends IterableX<TResult> {\n  private _outer: Iterable<TOuter>;\n  private _inner: Iterable<TInner>;\n  private _outerSelector: (value: TOuter) => TKey;\n  private _innerSelector: (value: TInner) => TKey;\n  private _resultSelector: (outer: TOuter, inner: TInner) => TResult;\n\n  constructor(\n    outer: Iterable<TOuter>,\n    inner: Iterable<TInner>,\n    outerSelector: (value: TOuter) => TKey,\n    innerSelector: (value: TInner) => TKey,\n    resultSelector: (outer: TOuter, inner: TInner) => TResult\n  ) {\n    super();\n    this._outer = outer;\n    this._inner = inner;\n    this._outerSelector = outerSelector;\n    this._innerSelector = innerSelector;\n    this._resultSelector = resultSelector;\n  }\n\n  *[Symbol.iterator]() {\n    const map = createGrouping(this._inner, this._innerSelector, identity);\n    for (const outerElement of this._outer) {\n      const outerKey = this._outerSelector(outerElement);\n      if (map.has(outerKey)) {\n        for (const innerElement of map.get(outerKey)!) {\n          yield this._resultSelector(outerElement, innerElement);\n        }\n      }\n    }\n  }\n}\n\n/**\n * Correlates the elements of two sequences based on matching keys.\n *\n * @template TOuter The type of the elements of the first iterable sequence.\n * @template TInner The type of the elements of the second iterable sequence.\n * @template TKey The type of the keys returned by the key selector functions.\n * @template TResult The type of the result elements.\n * @param {Iterable<TInner>} inner The async-enumerable sequence to join to the first sequence.\n * @param {((value: TOuter) => TKey)} outerSelector A function to extract the join key from each element\n * of the first sequence.\n * @param {((value: TInner) => TKey)} innerSelector A function to extract the join key from each element\n * of the second sequence.\n * @param {((outer: TOuter, inner: TInner) => TResult)} resultSelector A function to create a result element\n * from two matching elements.\n * @returns {OperatorFunction<TOuter, TResult>} An iterable sequence that has elements that are obtained by performing an inner join\n * on two sequences.\n */\nexport function innerJoin<TOuter, TInner, TKey, TResult>(\n  inner: Iterable<TInner>,\n  outerSelector: (value: TOuter) => TKey,\n  innerSelector: (value: TInner) => TKey,\n  resultSelector: (outer: TOuter, inner: TInner) => TResult\n): OperatorFunction<TOuter, TResult> {\n  return function innerJoinOperatorFunction(outer: Iterable<TOuter>): IterableX<TResult> {\n    return new JoinIterable<TOuter, TInner, TKey, TResult>(\n      outer,\n      inner,\n      outerSelector,\n      innerSelector,\n      resultSelector\n    );\n  };\n}\n"]}