"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.waitForMachineState = exports.waitForSelector = void 0;
const rxjs_1 = require("rxjs");
const operators_1 = require("rxjs/operators");
const waitForSelector = async (stream$, selector) => {
    const future = (0, rxjs_1.firstValueFrom)(stream$.pipe((0, operators_1.filter)(selector)));
    return future.then(() => undefined);
};
exports.waitForSelector = waitForSelector;
const waitForMachineState = async (interpreter, state) => {
    const selector = (x) => x.value === state;
    return waitForSelector((0, rxjs_1.from)(interpreter), selector);
};
exports.waitForMachineState = waitForMachineState;
//# sourceMappingURL=wait-for-selector.js.map