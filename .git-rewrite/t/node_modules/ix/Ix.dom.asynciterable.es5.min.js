(function (global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :
    typeof define === 'function' && define.amd ? define(['IxAsynciterable'], factory) :
    (factory(global.IxAsynciterable = global.IxAsynciterable || {}));
}(this, (function (exports) {/*
 *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
*****************************************************************************/
function aa(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}var ba="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};
function ca(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");}var n=ca(this);function da(a,b){if(b)a:{var c=n;a=a.split(".");for(var d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))break a;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&ba(c,a,{configurable:!0,writable:!0,value:b})}}
da("Symbol",function(a){function b(f){if(this instanceof b)throw new TypeError("Symbol is not a constructor");return new c(d+(f||"")+"_"+e++,f)}function c(f,g){this.ma=f;ba(this,"description",{configurable:!0,writable:!0,value:g})}if(a)return a;c.prototype.toString=function(){return this.ma};var d="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",e=0;return b});
da("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),c=0;c<b.length;c++){var d=n[b[c]];"function"===typeof d&&"function"!=typeof d.prototype[a]&&ba(d.prototype,a,{configurable:!0,writable:!0,value:function(){return ea(aa(this))}})}return a});da("Symbol.asyncIterator",function(a){return a?a:Symbol("Symbol.asyncIterator")});
function ea(a){a={next:a};a[Symbol.iterator]=function(){return this};return a}function r(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:aa(a)}}function fa(a){if(!(a instanceof Array)){a=r(a);for(var b,c=[];!(b=a.next()).done;)c.push(b.value);a=c}return a}var ha="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b},ia;
if("function"==typeof Object.setPrototypeOf)ia=Object.setPrototypeOf;else{var ja;a:{var ka={a:!0},la={};try{la.__proto__=ka;ja=la.a;break a}catch(a){}ja=!1}ia=ja?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var ma=ia;
function t(a,b){a.prototype=ha(b.prototype);a.prototype.constructor=a;if(ma)ma(a,b);else for(var c in b)if("prototype"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c];a.za=b.prototype}function w(){this.M=!1;this.D=null;this.h=void 0;this.i=1;this.B=this.A=0;this.ja=this.u=null}function na(a){if(a.M)throw new TypeError("Generator is already running");a.M=!0}w.prototype.N=function(a){this.h=a};
w.prototype.O=function(a){this.u={ia:a,la:!0};this.i=this.A||this.B};w.prototype.return=function(a){this.u={return:a};this.i=this.B};function y(a,b,c){a.i=c;return{value:b}}w.prototype.g=function(a){this.i=a};function oa(a,b,c){a.A=b;void 0!=c&&(a.B=c)}function pa(a){a.A=0;a.B=2}function qa(a){a.A=0;var b=a.u.ia;a.u=null;return b}function ra(a){a.ja=[a.u];a.A=0;a.B=0}function sa(a){var b=a.ja.splice(0)[0];(b=a.u=a.u||b)?b.la?a.i=a.A||a.B:void 0!=b.g&&a.B<b.g?(a.i=b.g,a.u=null):a.i=a.B:a.i=0}
function ta(a){this.l=new w;this.va=a}ta.prototype.N=function(a){na(this.l);if(this.l.D)return ua(this,this.l.D.next,a,this.l.N);this.l.N(a);return z(this)};function va(a,b){na(a.l);var c=a.l.D;if(c)return ua(a,"return"in c?c["return"]:function(d){return{value:d,done:!0}},b,a.l.return);a.l.return(b);return z(a)}ta.prototype.O=function(a){na(this.l);if(this.l.D)return ua(this,this.l.D["throw"],a,this.l.N);this.l.O(a);return z(this)};
function ua(a,b,c,d){try{var e=b.call(a.l.D,c);if(!(e instanceof Object))throw new TypeError("Iterator result "+e+" is not an object");if(!e.done)return a.l.M=!1,e;var f=e.value}catch(g){return a.l.D=null,a.l.O(g),z(a)}a.l.D=null;d.call(a.l,f);return z(a)}function z(a){for(;a.l.i;)try{var b=a.va(a.l);if(b)return a.l.M=!1,{value:b.value,done:!1}}catch(c){a.l.h=void 0,a.l.O(c)}a.l.M=!1;if(a.l.u){b=a.l.u;a.l.u=null;if(b.la)throw b.ia;return{value:b.return,done:!0}}return{value:void 0,done:!0}}
function wa(a){this.next=function(b){return a.N(b)};this.throw=function(b){return a.O(b)};this.return=function(b){return va(a,b)};this[Symbol.iterator]=function(){return this}}function A(a,b){b=new wa(new ta(b));ma&&a.prototype&&ma(b,a.prototype);return b}function xa(a){function b(d){return a.next(d)}function c(d){return a.throw(d)}return new Promise(function(d,e){function f(g){g.done?d(g.value):Promise.resolve(g.value).then(b,c).then(f,e)}f(a.next())})}
function B(a){return xa(new wa(new ta(a)))}function C(a){var b=a[Symbol.asyncIterator];return void 0!==b?b.call(a):new ya(r(a))}function ya(a){this[Symbol.asyncIterator]=function(){return this};this[Symbol.iterator]=function(){return a};this.next=function(b){return Promise.resolve(a.next(b))};void 0!==a["throw"]&&(this["throw"]=function(b){return Promise.resolve(a["throw"](b))});void 0!==a["return"]&&(this["return"]=function(b){return Promise.resolve(a["return"](b))})}
function D(a,b){this.action=a;this.value=b}function za(a,b,c,d){this.method=a;this.I=b;this.resolve=c;this.reject=d}function Aa(a){this.frame=a;this.next=null}function Ba(){this.T=this.C=null}Ba.prototype.isEmpty=function(){return null===this.C};Ba.prototype.first=function(){if(this.C)return this.C.frame;throw Error("no frames in executionQueue");};function F(a){a.C&&(a.C=a.C.next,a.C||(a.T=null))}Ba.prototype.enqueue=function(a){a=new Aa(a);this.T?this.T.next=a:this.C=a;this.T=a};
function H(a){this.ka=a;this.s=null;this.m=new Ba;this[Symbol.asyncIterator]=function(){return this};var b=this;this.ta=function(c){var d=b.m.first();!0===c.done?(b.s=null,d.method="next",d.I=c.value):(d.resolve({value:c.value,done:!1}),F(b.m));J(b)};this.sa=function(c){Ca(b,c)};this.ba=function(c){Da(b,c)}}function Ea(a,b,c){return new Promise(function(d,e){var f=a.m.isEmpty();a.m.enqueue(new za(b,c,d,e));f&&J(a)})}H.prototype.next=function(a){return Ea(this,"next",a)};
H.prototype.return=function(a){return Ea(this,"return",new D(0,a))};H.prototype.throw=function(a){return Ea(this,"throw",a)};function J(a){if(!a.m.isEmpty())try{if(a.s){if(!a.s)throw Error("no delegate to perform execution");var b=a.m.first();if(b.method in a.s)try{a.s[b.method](b.I).then(a.ta,a.sa).catch(a.ba)}catch(c){Ca(a,c)}else a.s=null,J(a)}else Fa(a)}catch(c){Da(a,c)}}
function Fa(a){var b=a.m.first();try{var c=a.ka[b.method](b.I);if(c.value instanceof D)switch(c.value.action){case 0:Promise.resolve(c.value.value).then(function(d){b.resolve({value:d,done:c.done});F(a.m);J(a)},function(d){b.reject(d);F(a.m);J(a)}).catch(a.ba);break;case 1:a.s=C(c.value.value);b.method="next";b.I=void 0;J(a);break;case 2:Promise.resolve(c.value.value).then(function(d){b.method="next";b.I=d;J(a)},function(d){b.method="throw";b.I=d;J(a)}).catch(a.ba);break;default:throw Error("Unrecognized AsyncGeneratorWrapper$ActionEnum");
}else b.resolve(c),F(a.m),J(a)}catch(d){b.reject(d),F(a.m),J(a)}}function Ca(a,b){var c=a.m.first();a.s=null;c.method="throw";c.I=b;J(a)}function Da(a,b){a.m.isEmpty()||(a.m.first().reject(b),F(a.m));a.s&&"return"in a.s&&(a.s["return"](void 0),a.s=null);a.ka["return"](void 0);J(a)}function Ga(a){return this instanceof Ga?this:new Ga(a)};function Ha(a){return a}function K(a){return B(function(b){return b.return(a)})};function Ia(a,b){return"undefined"===typeof b?a:function(c,d){return a.call(b,c,d)}};function L(a){return"function"===typeof a}function M(a){return null!=a&&Object(a)===a}function Ja(a){return null!=a&&Object(a)===a&&"function"===typeof a.subscribe};var Ka=Math.pow(2,53)-1;function N(){this.V=!1;this.aa=[];this.L=[]}N.prototype[Symbol.asyncIterator]=function(){return this};N.prototype.write=function(a){this._push({type:"value",value:a})};N.prototype.error=function(a){this._push({type:"error",error:a})};N.prototype._push=function(a){if(this.V)throw Error("AsyncSink already ended");if(0<this.L.length){var b=this.L.shift(),c=b.resolve;b=b.reject;"error"===a.type?b(a.error):c({done:!1,value:a.value})}else this.aa.push(a)};
N.prototype.next=function(){var a=this;if(0<this.aa.length){var b=this.aa.shift(),c=b.value,d=b.error;return"error"===b.type?Promise.reject(d):Promise.resolve({done:!1,value:c})}return this.V?Promise.resolve({done:!0}):new Promise(function(e,f){a.L.push({resolve:e,reject:f})})};N.prototype.end=function(){for(;0<this.L.length;)this.L.shift().resolve({done:!0});this.V=!0};function O(a){a=Error.call(this,void 0===a?"The operation has been aborted":a);this.message=a.message;"stack"in a&&(this.stack=a.stack);Object.setPrototypeOf(this,O.prototype);Error.captureStackTrace(this,this.constructor);this.name="AbortError"}t(O,Error);n.Object.defineProperty(O.prototype,Symbol.toStringTag,{configurable:!0,enumerable:!0,get:function(){return"AbortError"}});function Q(a){if(a&&a.aborted)throw new O;}
Object.defineProperty(O,Symbol.hasInstance,{writable:!0,configurable:!0,value:function(a){return M(a)&&("AbortError"===a.constructor.name||"AbortError"===a[Symbol.toStringTag])}});var La,R,Ma,Na,Oa;
function Pa(a){function b(f,g){var h=a.call(this)||this;h.qa=f;h.G=g;return h}function c(f,g){var h=a.call(this)||this;h.j=f;h.G=g;return h}function d(f,g){var h=a.call(this)||this;h.j=f;h.G=g;return h}function e(f,g){var h=a.call(this)||this;h.j=f;h.G=g;return h}La=function(f,g,h){g=void 0===g?K:g;g=Ia(g,h);if(null!=f&&L(f[Symbol.iterator])||M(f)&&L(f[Symbol.asyncIterator]))return new Ma(f,g);if(M(f)&&L(f.then))return new Na(f,g);if(Ja(f))return new Oa(f,g);if(M(f)&&"number"===typeof f.length)return new R(f,
g);if(M(f)&&!L(f[Symbol.iterator])&&L(f.next))return h={},new Ma((h[Symbol.asyncIterator]=function(){return f},h),g);throw new TypeError("Input type not supported");};t(e,a);e.prototype[Symbol.asyncIterator]=function(){var f=this;return new H(function h(){var k,l,m,q;return A(h,function(p){if(1==p.i){k=0;var v=Number(f.j.length);l=Math.min(Math.max(isNaN(v)?0:0!==v&&isFinite(v)?(0<v?1:-1)*Math.floor(Math.abs(v)):v,0),Ka)}if(5!=p.i){if(!(k<l))return p.g(0);m=D;q=0;return y(p,new D(2,f.G(f.j[k],k++)),
5)}return y(p,new m(q,p.h),2)})}())};R=e;t(d,a);d.prototype[Symbol.asyncIterator]=function(){var f=this;return new H(function h(){var k,l,m,q,p,v;return A(h,function(u){switch(u.i){case 1:k=0,l=C(f.j);case 2:return y(u,new D(2,l.next()),5);case 5:m=u.h;if(m.done){u.g(0);break}q=m.value;p=D;v=0;return y(u,new D(2,f.G(q,k++)),7);case 7:return y(u,new p(v,u.h),2)}})}())};Ma=d;t(c,a);c.prototype[Symbol.asyncIterator]=function(){var f=this;return new H(function h(){var k,l,m;return A(h,function(q){return 1==
q.i?y(q,new D(2,f.j),2):4!=q.i?(k=q.h,l=D,m=0,y(q,new D(2,f.G(k,0)),4)):y(q,new l(m,q.h),0)})}())};Na=c;t(b,a);b.prototype[Symbol.asyncIterator]=function(f){var g=this;return new H(function k(){function l(){m.error(new O)}var m,q,p,v,u,x;return A(k,function(G){switch(G.i){case 1:Q(f),m=new N,q=g.qa.subscribe({next:function(E){m.write(E)},error:function(E){m.error(E)},complete:function(){m.end()}}),f&&f.addEventListener("abort",l),p=0,pa(G),v=void 0;case 4:return y(G,new D(2,m.next()),7);case 7:if((v=
G.h).done){G.g(2);break}Q(f);u=D;x=0;return y(G,new D(2,g.G(v.value,p++)),9);case 9:return y(G,new u(x,G.h),4);case 2:ra(G),f&&f.removeEventListener("abort",l),q.unsubscribe(),sa(G)}})}())};Oa=b};function Qa(a,b){this.j=a;this.$=b}Qa.prototype[Symbol.asyncIterator]=function(){return this.j[Symbol.asyncIterator](this.$)};function S(){}S.prototype.forEach=function(a,b,c){var d=this,e,f,g,h,k;return B(function(l){1==l.i&&(e=c?new Qa(d,c):d,f=0,g=C(e));if(5!=l.i)return y(l,g.next(),5);h=l.h;if(h.done)return l.g(0);k=h.value;return y(l,a.call(b,k,f++,c),2)})};
S.prototype.pipe=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];c=-1;for(var d=b.length,e=this;++c<d;)e=b[c](Ra(e));return e};S.prototype[Symbol.toStringTag]="AsyncIterableX";Object.defineProperty(S,Symbol.hasInstance,{writable:!0,configurable:!0,value:function(a){return!(!a||"AsyncIterableX"!==a[Symbol.toStringTag])}});Pa(S);
try{(function(a){a||(S.prototype.pipe=function(b){for(var c=[],d=0;d<arguments.length;++d)c[d-0]=arguments[d];for(var e=-1,f=c.length,g=this;++e<f;)if(d=c[e],"function"===typeof d)g=d(Ra(g));else if(M(d)&&L(d.end)&&L(d._write)&&"boolean"===typeof d.writable&&M(d._writableState)){c=c[e+1]||{};e=void 0===c.end?!0:c.end;if(M(g)&&L(g.pipe)&&L(g._read)&&"boolean"===typeof g.readable&&M(g._readableState))d=g.pipe(d,{end:e});else{c=d;e={end:e};g=Ra(g);f=g.Aa;var h=void 0;h=void 0===h?d.xa||{ya:!0}:h;d=f.call(g,
h).pipe(c,e)}return d}return g})})("object"===typeof window&&"object"===typeof document&&9===document.nodeType)}catch(a){};function Ra(a){return a instanceof S?a:"string"===typeof a?new R([a],K):null!=a&&L(a[Symbol.iterator])||M(a)&&L(a[Symbol.asyncIterator])?new Ma(a,K):M(a)&&L(a.then)?new Na(a,K):Ja(a)?new Oa(a,K):M(a)&&"number"===typeof a.length?new R(a,K):new R([a],K)};function T(){this.v=[]}T.prototype.clear=function(){this.v=[]};T.prototype.get=function(a){return this.v[a]};T.prototype.push=function(a){this.v.push(a)};T.prototype.done=function(){};n.Object.defineProperties(T.prototype,{count:{configurable:!0,enumerable:!0,get:function(){return this.v.length}}});function U(a){this.F=0;this.R=a;this.v=new Map}U.prototype.clear=function(){this.v.clear()};U.prototype.done=function(){this.R--};
U.prototype.get=function(a){if(!this.v.has(a))throw Error("Element no longer available in the buffer.");var b=this.v.get(a),c=b.value;0===--b.count&&this.v.delete(a);return c};U.prototype.push=function(a){this.v.set(this.F++,{value:a,count:this.R})};n.Object.defineProperties(U.prototype,{count:{configurable:!0,enumerable:!0,get:function(){return this.F}},wa:{configurable:!0,enumerable:!0,get:function(){return this.R},set:function(a){this.R=a}}});function Sa(a){this.W=a}t(Sa,S);Sa.prototype[Symbol.asyncIterator]=function(a){var b=this;return new H(function d(){var e,f;return A(d,function(g){switch(g.i){case 1:return Q(a),y(g,new D(2,b.W(a)),2);case 2:e=g.h;case 3:return y(g,new D(2,e.next()),5);case 5:if((f=g.h).done)g.g(0);else return y(g,new D(0,f.value),3)}})}())};function V(a,b){this.S=this.P=null;this.fa=!1;this.j=a;this.U=b}t(V,S);V.prototype[Symbol.asyncIterator]=function(a){Q(a);return Ta(this,0)};
function Ta(a,b){b=void 0===b?0:b;return new H(function d(){var e,f,g,h;return A(d,function(k){switch(k.i){case 1:e=b-1,f=!1,g=a.U,pa(k);case 4:if(!(++e<g.count)){k.g(7);break}return y(k,new D(0,g.get(e)),8);case 8:k.g(6);break;case 7:if(a.fa)throw a.P;null===a.S&&(a.S=a.j.next().then(function(l){a.S=null;l.done||g.push(l.value);return l}));return y(k,new D(2,a.S.catch(function(l){a.P=l;a.fa=!0;throw l;})),9);case 9:h=k.h;if(f=h.done){k.g(6);break}return y(k,new D(0,g.get(e)),6);case 6:if(!f){k.g(4);
break}case 2:ra(k),g.done(),sa(k)}})}())}function Ua(){var a=void 0===a?-1:a;return function(b){return-1===a?new V(b[Symbol.asyncIterator](),new T):new V(b[Symbol.asyncIterator](),new U(a))}};function Va(a,b){this.j=a;this.$=b}t(Va,S);Va.prototype[Symbol.asyncIterator]=function(){return this.j[Symbol.asyncIterator](this.$)};function W(a,b){return b?new Va(a,b):a};function Wa(a){return B(function(b){return"function"!==typeof a.return?b.g(0):y(b,a.return(),0)})};function Xa(a){this.j=a}t(Xa,S);
Xa.prototype[Symbol.asyncIterator]=function(a){var b=this;return new H(function d(){var e,f,g,h,k,l,m,q,p,v,u;return A(d,function(x){switch(x.i){case 1:Q(a),e=null,f=!1,g=r(b.j),h=g.next();case 2:if(h.done){x.g(4);break}k=h.value;l=W(k,a)[Symbol.asyncIterator]();e=null;f=!1;case 5:return m={},oa(x,7),y(x,new D(2,l.next()),9);case 9:q=x.h;p=q.done;v=q.value;if(!p){x.g(10);break}return y(x,new D(2,Wa(l)),11);case 11:x.g(6);break;case 10:m=v;x.i=8;x.A=0;break;case 7:return e=u=qa(x),f=!0,y(x,new D(2,
Wa(l)),12);case 12:x.g(6);break;case 8:return y(x,new D(0,m),5);case 6:if(!f){x.g(4);break}h=g.next();x.g(2);break;case 4:if(f)throw e;x.i=0}})}())};function Ya(a){return null===a||"object"!==typeof a&&"function"!==typeof a}var Za=new WeakMap;
function $a(a){var b;return(new Promise(function(c,d){b={resolve:c,reject:d};for(var e={},f=r(a),g=f.next();!g.done;e={o:e.o},g=f.next())g=g.value,Ya(g)?Promise.resolve(g).then(c,d):(e.o=Za.get(g),void 0===e.o?(e.o={J:new Set([b]),da:!1},Za.set(g,e.o),Promise.resolve(g).then(function(h){return function(k){for(var l=r(h.o.J),m=l.next();!m.done;m=l.next())m=m.value.resolve,m(k);h.o.J.clear();h.o.da=!0}}(e),function(h){return function(k){for(var l=r(h.o.J),m=l.next();!m.done;m=l.next())m=m.value.reject,
m(k);h.o.J.clear();h.o.da=!0}}(e))):e.o.da?Promise.resolve(g).then(c,d):e.o.J.add(b))})).finally(function(){for(var c=r(a),d=c.next();!d.done;d=c.next())d=d.value,Ya(d)||Za.get(d).J.delete(b)})};var ab=new Promise(function(){});function bb(a,b){return a.then(function(c){return{value:c,index:b}})}function cb(a){this.H=a}t(cb,S);
cb.prototype[Symbol.asyncIterator]=function(a){var b=this;return new H(function d(){var e,f,g,h,k,l,m,q,p,v,u,x,G,E,I,rb;return A(d,function(P){if(1==P.i)for(Q(a),e=b.H.length,f=Array(e),g=Array(e),h=!1,k=Array(e),l=Array(e),m=e,l.fill(!1),q=0;q<e;q++)p=W(b.H[q],a)[Symbol.asyncIterator](),f[q]=p,g[q]=bb(p.next(),q);if(4!=P.i){if(!(0<m))return P.g(0);v=$a(g);return y(P,new D(2,v),4)}u=P.h;x=u.value;G=x.value;E=x.done;I=u.index;if(E)return g[I]=ab,m--,P.g(2);k[I]=G;l[I]=!0;rb=f[I];g[I]=bb(rb.next(),
I);return h||(h=l.every(Ha))?y(P,new D(0,k),2):P.g(2)})}())};function db(a){this.j=a}t(db,S);db.prototype[Symbol.asyncIterator]=function(a){var b=this;return new H(function d(){var e,f,g,h,k,l;return A(d,function(m){switch(m.i){case 1:Q(a),e=r(b.j),f=e.next();case 2:if(f.done){m.g(0);break}g=f.value;h=C(W(g,a));case 5:return y(m,new D(2,h.next()),8);case 8:k=m.h;if(k.done){m.g(3);break}l=k.value;return y(m,new D(0,l),5);case 3:f=e.next(),m.g(2)}})}())};function eb(a){this.W=a}t(eb,S);eb.prototype[Symbol.asyncIterator]=function(a){var b=this;return new H(function d(){var e,f,g,h;return A(d,function(k){switch(k.i){case 1:return Q(a),y(k,new D(2,b.W(a)),2);case 2:e=k.h,f=C(W(e,a));case 3:return y(k,new D(2,f.next()),6);case 6:if(g=k.h,g.done)k.g(0);else return h=g.value,y(k,new D(0,h),3)}})}())};function fb(a){return new eb(a)};function gb(){}t(gb,S);gb.prototype[Symbol.asyncIterator]=function(a){return new H(function c(){return A(c,function(d){Q(a);d.i=0})}())};function hb(){return new gb};var ib=new Promise(function(){});function jb(a,b){return a.then(function(c){return{value:c,index:b}})};var kb="undefined"!==typeof SharedArrayBuffer?SharedArrayBuffer:ArrayBuffer;function X(a){this.ga=a}t(X,S);X.prototype[Symbol.asyncIterator]=function(){var a=this.ga,b=a.getReader();return lb(a,b,mb(b))};function nb(){X.apply(this,arguments)}t(nb,X);nb.prototype[Symbol.asyncIterator]=function(){var a=this.ga;try{var b=a.getReader({mode:"byob"})}catch(c){return X.prototype[Symbol.asyncIterator].call(this)}a=lb(a,b,ob(b));a.next();return a};
function lb(a,b,c){return new H(function e(){var f,g;return A(e,function(h){switch(h.i){case 1:return f=!1,oa(h,2,3),y(h,new D(1,c),3);case 3:ra(h);if(!b){h.g(6);break}if(f){h.g(7);break}return y(h,new D(2,b.cancel()),7);case 7:if(a.locked)try{b.closed.catch(function(){}),b.releaseLock()}catch(k){}case 6:sa(h);break;case 2:g=qa(h);if(f=!0,b)return y(h,new D(2,b.cancel(g)),3);h.g(3)}})}())}
function mb(a){return new H(function c(){var d;return A(c,function(e){return 1==e.i?y(e,new D(2,a.read()),4):(d=e.h).done?e.g(0):y(e,new D(0,d.value),1)})}())}function ob(a){return new H(function c(){var d,e;return A(c,function(f){switch(f.i){case 1:return y(f,new D(0,null),2);case 2:e=f.h;case 3:return y(f,new D(2,pb(a,e)),5);case 5:if((d=f.h).done){f.g(0);break}return y(f,new D(0,d.value),6);case 6:e=f.h,f.g(3)}})}())}
function pb(a,b){var c,d;return B(function(e){if(1==e.i){if("number"===typeof b)d=new ArrayBuffer(c=b);else if(b instanceof ArrayBuffer)c=(d=b).byteLength;else if(b instanceof kb)c=(d=b).byteLength;else return e.return({done:!0,value:void 0});return y(e,qb(a,d,0,c),2)}return e.return(e.h)})}
function qb(a,b,c,d){var e,f,g,h;return B(function(k){switch(k.i){case 1:return e=c,e>=d?k.return({done:!1,value:new Uint8Array(b,0,d)}):y(k,a.read(new Uint8Array(b,e,d-e)),2);case 2:f=k.h;g=f.done;h=f.value;if(!((e+=h.byteLength)<d)||g){k.g(3);break}return y(k,qb(a,h.buffer,e,d),4);case 4:return k.return(k.h);case 3:return k.return({done:g,value:new Uint8Array(h.buffer,0,e)})}})}function sb(a,b){return b&&"byob"===b.mode?new nb(a):new X(a)};function tb(a,b){function c(e){return d.write(e)}var d=new N;a(c);return Ua()(function(){return new H(function f(){var g;return A(f,function(h){switch(h.i){case 1:g=void 0;case 2:return y(h,new D(2,d.next()),5);case 5:if((g=h.h).done){h.g(4);break}return y(h,new D(0,g.value),2);case 4:b(c),d.end(),h.i=0}})}())}())};function ub(a,b,c,d){this.X=a;this.K=b;this.Y=c;this.Z=d}t(ub,S);ub.prototype[Symbol.asyncIterator]=function(a){var b=this;return new H(function d(){var e,f,g;return A(d,function(h){switch(h.i){case 1:Q(a),e=b.X;case 2:return y(h,new D(2,b.K(e,a)),5);case 5:if(!h.h){h.g(0);break}f=D;g=0;return y(h,new D(2,b.Z(e,a)),7);case 7:return y(h,new f(g,h.h),3);case 3:return y(h,new D(2,b.Y(e,a)),8);case 8:e=h.h,h.g(2)}})}())};function vb(a,b){return new Promise(function(c,d){function e(){clearTimeout(f);d(new O)}b&&b.aborted&&d(new O);var f=setTimeout(function(){if(b&&(b.removeEventListener("abort",e),b.aborted)){e();return}c()},a);b&&b.addEventListener("abort",e,{once:!0})})};function wb(a,b,c,d,e){this.X=a;this.K=b;this.Y=c;this.Z=d;this.ra=e}t(wb,S);
wb.prototype[Symbol.asyncIterator]=function(a){var b=this;return new H(function d(){var e,f,g,h;return A(d,function(k){switch(k.i){case 1:Q(a),e=b.X;case 2:return y(k,new D(2,b.K(e,a)),5);case 5:if(!k.h){k.g(0);break}return y(k,new D(2,b.ra(e,a)),6);case 6:return f=k.h,y(k,new D(2,vb(f,a)),7);case 7:return g=D,h=0,y(k,new D(2,b.Z(e,a)),9);case 9:return y(k,new g(h,k.h),3);case 3:return y(k,new D(2,b.Y(e,a)),10);case 10:e=k.h,k.g(2)}})}())};function xb(a,b){return B(function(c){return c.return(a===b||"number"===typeof a&&"number"===typeof b&&isNaN(a)&&isNaN(b))})}function yb(a,b){return B(function(c){return c.return(a>b?1:a<b?-1:0)})};function zb(a){this.pa=a}t(zb,S);zb.prototype[Symbol.asyncIterator]=function(a){var b=this;return new H(function d(){var e;return A(d,function(f){1==f.i&&(Q(a),e=0);return 4!=f.i?y(f,new D(2,vb(b.pa,a)),4):y(f,new D(0,e++),2)})}())};function Ab(a,b,c,d){var e,f,g,h,k,l,m,q,p,v;return B(function(u){switch(u.i){case 1:return Q(d),e=[],f=W(a,d)[Symbol.asyncIterator](),y(u,f.next(),2);case 2:g=u.h;h=g.value;if(k=g.done)throw Error("Sequence contains no elements");return y(u,b(h,d),3);case 3:l=u.h,e.push(h);case 4:return y(u,f.next(),6);case 6:if((m=u.h).done){u.g(5);break}q=m.value;return y(u,b(q,d),7);case 7:return p=u.h,y(u,c(p,l,d),8);case 8:v=u.h;0===v?e.push(q):0<v&&(e=[q],l=p);u.g(4);break;case 5:return u.return(e)}})};var Bb=new Promise(function(){});function Cb(a,b){return a.then(function(c){return{value:c,index:b}})}function Db(a){this.j=a}t(Db,S);
Db.prototype[Symbol.asyncIterator]=function(a){var b=this;return new H(function d(){var e,f,g,h,k,l,m,q,p,v,u,x,G;return A(d,function(E){if(1==E.i)for(Q(a),e=b.j.length,f=Array(e),g=Array(e),h=e,k=0;k<e;k++)l=W(b.j[k],a)[Symbol.asyncIterator](),f[k]=l,g[k]=Cb(l.next(),k);if(4!=E.i){if(!(0<h))return E.g(0);m=$a(g);return y(E,new D(2,m),4)}q=E.h;p=q.value;v=p.done;u=p.value;x=q.index;if(v)return g[x]=Bb,h--,E.g(2);G=f[x];g[x]=Cb(G.next(),x);return y(E,new D(0,u),2)})}())};function Eb(){}t(Eb,S);Eb.prototype[Symbol.asyncIterator]=function(a){return new H(function c(){return A(c,function(d){Q(a);return y(d,new D(2,new Promise(function(e,f){a&&a.addEventListener("abort",function(){return f(new O)},{once:!0})})),0)})}())};function Fb(a){this.oa=a}t(Fb,S);Fb.prototype[Symbol.asyncIterator]=function(a){var b=this;return new H(function d(){var e,f,g;return A(d,function(h){1==h.i&&(Q(a),e=r(b.oa),f=e.next());if(3!=h.i){if(f.done)return h.g(0);g=f.value;return y(h,new D(0,g),3)}f=e.next();return h.g(2)})}())};function Gb(a){this.j=a}t(Gb,S);Gb.prototype[Symbol.asyncIterator]=function(a){var b=this;return new H(function d(){var e,f,g,h,k;return A(d,function(l){switch(l.i){case 1:Q(a),e=r(b.j),f=e.next();case 2:if(f.done){l.g(0);break}g=f.value;h=W(g,a)[Symbol.asyncIterator]();case 5:return k=void 0,oa(l,7),y(l,new D(2,h.next()),9);case 9:k=l.h;l.i=8;l.A=0;break;case 7:qa(l);l.g(3);break;case 8:if(k.done){l.g(3);break}return y(l,new D(0,k.value),5);case 3:f=e.next(),l.g(2)}})}())};function Hb(a,b){return a.then(function(c){return{value:c,index:b}})}function Ib(a){this.H=a}t(Ib,S);
Ib.prototype[Symbol.asyncIterator]=function(a){var b=this;return new H(function d(){var e,f,g,h,k,l,m,q,p,v,u,x,G,E;return A(d,function(I){switch(I.i){case 1:Q(a);e=b.H;f=e.length;g=Array(f);h=Array(f);for(k=0;k<f;k++)l=W(e[k],a)[Symbol.asyncIterator](),g[k]=l,h[k]=Hb(l.next(),k);m=$a(h);return y(I,new D(2,m),2);case 2:q=I.h;p=q.value;v=q.index;if(p.done){I.g(3);break}return y(I,new D(0,p.value),3);case 3:for(u=g[v],x=0;x<f;x++)x!==v&&(G=g[x],G.return&&G.return());case 5:return y(I,new D(2,u.next()),
7);case 7:if((E=I.h).done)I.g(0);else return y(I,new D(0,E.value),5)}})}())};function Jb(a,b){this.ea=a;this.F=b}t(Jb,S);Jb.prototype[Symbol.asyncIterator]=function(a){var b=this;return new H(function d(){var e,f;return A(d,function(g){1==g.i&&(Q(a),e=b.ea,f=b.ea+b.F);if(3!=g.i)return e<f?y(g,new D(0,e),3):g.g(0);e++;return g.g(2)})}())};function Kb(a,b){var c,d,e,f;return B(function(g){switch(g.i){case 1:Q(b),c=[],d=C(W(a,b));case 2:return y(g,d.next(),5);case 5:e=g.h;if(e.done){g.g(4);break}f=e.value;c.push(f);g.g(2);break;case 4:return g.return(c)}})};function Lb(a,b){this.ha=a;this.F=b}t(Lb,S);Lb.prototype[Symbol.asyncIterator]=function(a){var b=this;return new H(function d(){var e;return A(d,function(f){switch(f.i){case 1:if(-1===b.F){f.g(8);break}e=0;case 4:if(!(e<b.F)){f.g(0);break}Q(a);return y(f,new D(0,b.ha),5);case 5:e++;f.g(4);break;case 8:return Q(a),y(f,new D(0,b.ha),8)}})}())};function Mb(a){this.P=a}t(Mb,S);Mb.prototype[Symbol.asyncIterator]=function(a){var b=this;return new H(function d(){return A(d,function(){Q(a);throw b.P;})}())};function Nb(a){V.call(this,a,new U(0))}t(Nb,V);Nb.prototype[Symbol.asyncIterator]=function(a){Q(a);this.U.wa++;return Ta(this,this.U.count)[Symbol.asyncIterator]()};function Ob(){return function(a){return new Nb(a[Symbol.asyncIterator]())}};function Pb(a){this.j=a}Pb.prototype.cancel=function(){var a=this,b;return B(function(c){if(1==c.i)return(b=a.j)&&b.return?y(c,b.return(),2):c.g(2);a.j=null;c.i=0})};function Qb(a){this.j=a}t(Qb,Pb);Qb.prototype.pull=function(a){var b=this,c,d;return B(function(e){if(1==e.i)return(c=b.j)?y(e,c.next(a.desiredSize),3):e.g(2);if(2!=e.i&&(d=e.h,!d.done))return e.return(a.enqueue(d.value));a.close();e.i=0})};
function Rb(a,b){b=void 0===b?{}:b;this.j=a;this.type="bytes";this.autoAllocateChunkSize=b.autoAllocateChunkSize;this.ua=new Qb(a)}t(Rb,Pb);
Rb.prototype.pull=function(a){var b=this,c,d,e,f,g;return B(function(h){switch(h.i){case 1:if(a.byobRequest){h.g(2);break}return y(h,b.ua.pull(a),3);case 3:return h.return(h.h);case 2:if(!b.j){h.g(4);break}c=a.byobRequest;d=c.view;return y(h,b.j.next(d),5);case 5:if(e=h.h,f=e.done,g=e.value,!f){if("number"===typeof g)return h.return(a.byobRequest.respond(g));if(ArrayBuffer.isView(g)){var k=h.return;if(g.buffer===d.buffer)var l=a.byobRequest.respondWithNewView(g);else{l=a.byobRequest;var m=l.respond;
var q=void 0===q?0:q;var p=void 0===p?g.byteLength:p;var v=d.byteLength,u=new Uint8Array(d.buffer,d.byteOffset,v);p=new Uint8Array(g.buffer,g.byteOffset,Math.min(p,v,g.buffer.byteLength-g.byteOffset));u.set(p,q);l=m.call(l,p.byteLength)}return k.call(h,l)}}case 4:a.close(),h.i=0}})};
var Sb=function(){function a(e,f){return e instanceof Rb?new c(e,f):new d(e,f)}function b(e,f){function g(){return ReadableStream.apply(this,arguments)||this}function h(){return ReadableStream.apply(this,arguments)||this}t(h,ReadableStream);h.prototype[Symbol.asyncIterator]=function(){return sb(this)[Symbol.asyncIterator]()};t(g,ReadableStream);g.prototype[Symbol.asyncIterator]=function(){return sb(this,{mode:"byob"})[Symbol.asyncIterator]()};c=g;d=h;b=a;return a(e,f)}var c,d;return function(e,f){return b(e,
f)}}();function Tb(a,b){return b&&"type"in b&&"bytes"===b.type?Sb(new Rb(a[Symbol.asyncIterator](),b),b):Sb(new Qb(a[Symbol.asyncIterator]()),b)}S.prototype.tee=function(){return Ub(this).tee()};S.prototype.pipeTo=function(a,b){return Ub(this).pipeTo(a,b)};S.prototype.pipeThrough=function(a,b){return Ub(this).pipeThrough(a,b)};function Ub(a){return a.na||(a.na=a.pipe(Ob(),Tb))}function Vb(a){return a?Tb(this,a):Tb(this)}S.prototype.toDOMStream=Vb;function Y(){}function Wb(a,b,c){return a&&"object"===typeof a?{next:L(a.next)?function(d){return a.next(d)}:Y,error:L(a.error)?function(d){return a.error(d)}:Y,complete:L(a.complete)?function(){return a.complete()}:Y}:{next:L(a)?a:Y,error:L(b)?b:Y,complete:L(c)?c:Y}};var Xb="function"===typeof Symbol&&Symbol.observable||"@@observable";function Yb(){this.ca=!1}Yb.prototype.unsubscribe=function(){this.ca=!0};function Zb(a){this.j=a}Zb.prototype[Xb]=function(){return this};Zb.prototype.subscribe=function(a,b,c){function d(){g.next().then(function(h){var k=h.value;h=h.done;f.ca||(h?e.complete():(e.next(k),d()))}).catch(function(h){f.ca||e.error(h)})}var e=Wb(a,b,c),f=new Yb,g=this.j[Symbol.asyncIterator]();d();return f};function $b(a,b){this.K=a;this.j=b}t($b,S);$b.prototype[Symbol.asyncIterator]=function(a){var b=this;return new H(function d(){var e,f,g;return A(d,function(h){switch(h.i){case 1:Q(a);case 2:return y(h,new D(2,b.K(a)),4);case 4:if(!h.h){h.g(0);break}e=C(W(b.j,a));case 5:return y(h,new D(2,e.next()),8);case 8:if(f=h.h,f.done)h.g(2);else return g=f.value,y(h,new D(0,g),5)}})}())};function ac(a){this.H=a}t(ac,S);
ac.prototype[Symbol.asyncIterator]=function(a){var b=this;return new H(function d(){var e,f,g,h,k,l,m;return A(d,function(q){switch(q.i){case 1:Q(a),e=b.H.length,f=b.H.map(function(p){return W(p,a)[Symbol.asyncIterator]()});case 2:if(!(0<e)){q.g(0);break}g=Array(e);h=-1;case 4:return++h<e?y(q,new D(2,f[h].next()),7):y(q,new D(0,g),2);case 7:k=q.h;l=k.value;m=k.done;if(!m){q.g(8);break}return y(q,new D(2,Promise.all(f.map(Wa))),9);case 9:return q.return(void 0);case 8:g[h]=l,q.g(4)}})}())};var Z={get FromArrayIterable(){return R},get FromAsyncIterable(){return Ma},get FromObservableAsyncIterable(){return Oa},get FromPromiseIterable(){return Na},get from(){return La}};Z.AsyncIterableReadableByteStream=nb;Z.AsyncIterableReadableStream=X;Z.AsyncIterableX=S;Z.AsyncSink=N;Z.CatchAllAsyncIterable=Xa;Z.CombineLatestAsyncIterable=cb;Z.ConcatAsyncIterable=db;Z.MergeAsyncIterable=Db;Z.NeverAsyncIterable=Eb;Z.OfAsyncIterable=Fb;Z.OnErrorResumeNextAsyncIterable=Gb;Z.RaceAsyncIterable=Ib;
Z.RepeatValueAsyncIterable=Lb;Z.ZipAsyncIterable=ac;Z._concatAll=function(a){return new db(a)};Z._initialize=Pa;Z.as=Ra;
Z.asyncify=function(a){return function(b){function c(g){for(var h=[],k=0;k<arguments.length;++k)h[k-0]=arguments[k];f.write(1===h.length?h[0]:h);f.end()}for(var d=[],e=0;e<arguments.length;++e)d[e-0]=arguments[e];var f=new N;try{a.apply(null,fa(d.concat(c)))}catch(g){f.error(g),f.end()}return Ua()(function(){return new H(function h(){var k;return A(h,function(l){1==l.i&&(k=void 0);return 5!=l.i?y(l,new D(2,f.next()),5):(k=l.h).done?l.g(0):y(l,new D(0,k.value),2)})}())}())}};
Z.asyncifyErrback=function(a){return function(b){function c(g,h){for(var k=[],l=1;l<arguments.length;++l)k[l-1]=arguments[l];g?f.error(g):f.write(1===k.length?k[0]:k);f.end()}for(var d=[],e=0;e<arguments.length;++e)d[e-0]=arguments[e];var f=new N;try{a.apply(null,fa(d.concat(c)))}catch(g){f.error(g),f.end()}return Ua()(function(){return new H(function h(){var k;return A(h,function(l){1==l.i&&(k=void 0);return 5!=l.i?y(l,new D(2,f.next()),5):(k=l.h).done?l.g(0):y(l,new D(0,k.value),2)})}())}())}};
Z.average=function(a,b){var c,d,e,f,g,h,k,l,m,q,p;return B(function(v){switch(v.i){case 1:c=b||{},d=c.selector,e=void 0===d?K:d,f=c.signal,g=c.thisArg,Q(f),k=h=0,l=C(W(a,f));case 2:return y(v,l.next(),5);case 5:m=v.h;if(m.done){v.g(4);break}q=m.value;p=h;return y(v,e.call(g,q,f),6);case 6:h=p+v.h;k++;v.g(2);break;case 4:if(0===k)throw Error("Empty collection");return v.return(h/k)}})};Z.catchAll=function(a){return new Xa(a)};
Z.catchError=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];return new Xa(b)};Z.combineLatest=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];return new cb(b)};Z.concat=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];return new db(b)};
Z.count=function(a,b){var c,d,e,f,g,h,k,l,m;return B(function(q){switch(q.i){case 1:c=b||{},d=c.signal,e=c.thisArg,f=c.predicate,g=void 0===f?function(){return B(function(p){return p.return(!0)})}:f,Q(d),h=0,k=C(W(a,d));case 2:return y(q,k.next(),5);case 5:l=q.h;if(l.done){q.g(4);break}m=l.value;return y(q,g.call(e,m,h,d),6);case 6:q.h&&h++;q.g(2);break;case 4:return q.return(h)}})};Z.create=function(a){return new Sa(a)};Z.defer=fb;
Z.elementAt=function(a,b,c){var d,e,f,g;return B(function(h){switch(h.i){case 1:Q(c),d=b,e=C(W(a,c));case 2:return y(h,e.next(),5);case 5:f=h.h;if(f.done){h.g(4);break}g=f.value;if(0===d)return h.return(g);d--;h.g(2);break;case 4:return h.return(void 0)}})};Z.empty=hb;
Z.every=function(a,b){var c,d,e,f,g,h,k,l;return B(function(m){switch(m.i){case 1:c=b,d=c.signal,e=c.thisArg,f=c.predicate,Q(d),g=0,h=C(W(a,d));case 2:return y(m,h.next(),5);case 5:k=m.h;if(k.done){m.g(4);break}l=k.value;return y(m,f.call(e,l,g++,d),6);case 6:if(!m.h)return m.return(!1);m.g(2);break;case 4:return m.return(!0)}})};
Z.find=function(a,b){var c,d,e,f,g,h,k,l;return B(function(m){switch(m.i){case 1:c=b,d=c.signal,e=c.thisArg,f=c.predicate,Q(d),g=0,h=C(W(a,d));case 2:return y(m,h.next(),5);case 5:k=m.h;if(k.done){m.g(4);break}l=k.value;return y(m,f.call(e,l,g++,d),6);case 6:if(m.h)return m.return(l);m.g(2);break;case 4:return m.return(void 0)}})};
Z.findIndex=function(a,b){var c,d,e,f,g,h,k,l;return B(function(m){switch(m.i){case 1:c=b,d=c.signal,e=c.thisArg,f=c.predicate,Q(d),g=0,h=C(W(a,d));case 2:return y(m,h.next(),5);case 5:k=m.h;if(k.done){m.g(4);break}l=k.value;return y(m,f.call(e,l,g++,d),6);case 6:if(m.h)return m.return(g);m.g(2);break;case 4:return m.return(-1)}})};
Z.first=function(a,b){var c,d,e,f,g,h,k,l,m;return B(function(q){switch(q.i){case 1:c=b||{},d=c.signal,e=c.thisArg,f=c.predicate,g=void 0===f?function(){return B(function(p){return p.return(!0)})}:f,Q(d),h=0,k=C(W(a,d));case 2:return y(q,k.next(),5);case 5:l=q.h;if(l.done){q.g(4);break}m=l.value;return y(q,g.call(e,m,h++,d),6);case 6:if(q.h)return q.return(m);q.g(2);break;case 4:return q.return(void 0)}})};
Z.forkJoin=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];var d,e,f,g,h,k,l,m,q,p,v,u,x,G;return B(function(E){switch(E.i){case 1:for(d=b.shift(),d instanceof AbortSignal||(b.unshift(d),d=void 0),e=b.length,f=Array(e),g=Array(e),h=e,k=Array(e),l=Array(e),l.fill(!1),m=0;m<e;m++)q=W(b[m],d)[Symbol.asyncIterator](),f[m]=q,g[m]=jb(q.next(),m);case 2:if(!(0<h)){E.g(3);break}p=$a(g);return y(E,p,4);case 4:v=E.h;u=v.value;x=v.index;u.done?(g[x]=ib,h--):(G=f[x],g[x]=jb(G.next(),x),
l[x]=!0,k[x]=u.value);E.g(2);break;case 3:return 0<l.length&&l.every(Ha)?E.return(k):E.return(void 0)}})};Z.fromDOMStream=sb;
Z.fromEvent=function(a,b,c){if(a&&"function"===typeof a.addEventListener&&"function"===typeof a.removeEventListener)return tb(function(d){return a.addEventListener(b,d,c)},function(d){return a.removeEventListener(b,d,c)});if(a&&"function"===typeof a.addListener&&"function"===typeof a.removeListener)return tb(function(d){return a.addListener(b,d)},function(d){return a.removeListener(b,d)});throw new TypeError("Unsupported event target");};Z.fromEventPattern=tb;
Z.generate=function(a,b,c,d){return new ub(a,b,c,d)};Z.generateTime=function(a,b,c,d,e){return new wb(a,b,c,d,e)};Z.iif=function(a,b,c){c=void 0===c?hb():c;return fb(function(d){return B(function(e){return 1==e.i?y(e,a(d),2):e.return(e.h?b:c)})})};
Z.includes=function(a,b,c,d){c=void 0===c?0:c;var e,f,g,h,k;return B(function(l){switch(l.i){case 1:Q(d),e=c,f=0,Math.abs(e)&&(e=0),g=C(W(a,d));case 2:return y(l,g.next(),5);case 5:h=l.h;if(h.done){l.g(4);break}k=h.value;if(f++>e&&(k===b||"number"===typeof k&&"number"===typeof b&&isNaN(k)&&isNaN(b)))return l.return(!0);l.g(2);break;case 4:return l.return(!1)}})};Z.interval=function(a){return new zb(a)};
Z.isEmpty=function(a,b){var c,d;return B(function(e){switch(e.i){case 1:Q(b),c=C(W(a,b));case 2:return y(e,c.next(),5);case 5:d=e.h;if(d.done){e.g(4);break}return e.return(!1);case 4:return e.return(!0)}})};
Z.last=function(a,b){var c,d,e,f,g,h,k,l,m,q;return B(function(p){switch(p.i){case 1:c=b||{},d=c.signal,e=c.thisArg,f=c.predicate,g=void 0===f?function(){return B(function(v){return v.return(!0)})}:f,Q(d),h=0,l=C(W(a,d));case 2:return y(p,l.next(),5);case 5:m=p.h;if(m.done){p.g(4);break}q=m.value;return y(p,g.call(e,q,h++,d),6);case 6:p.h&&(k=q);p.g(2);break;case 4:return p.return(k)}})};
Z.max=function(a,b){var c,d,e,f,g,h,k,l,m,q;return B(function(p){switch(p.i){case 1:return c=b||{},d=c.comparer,e=void 0===d?yb:d,f=c.signal,g=c.selector,h=void 0===g?K:g,Q(f),k=W(a,f)[Symbol.asyncIterator](),y(p,k.next(),2);case 2:l=p.h;if(l.done)throw Error("Sequence contains no elements");return y(p,h(l.value),3);case 3:m=p.h;case 4:return y(p,k.next(),6);case 6:if((l=p.h).done){p.g(5);break}return y(p,h(l.value),7);case 7:return q=p.h,y(p,e(q,m),8);case 8:0<p.h&&(m=q);p.g(4);break;case 5:return p.return(m)}})};
Z.maxBy=function(a,b){b=b||{};var c=b.comparer;return Ab(a,b.selector,void 0===c?yb:c,b.signal)};Z.merge=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];return new Db([a].concat(fa(c)))};
Z.min=function(a,b){var c,d,e,f,g,h,k,l,m,q;return B(function(p){switch(p.i){case 1:return c=b||{},d=c.comparer,e=void 0===d?yb:d,f=c.signal,g=c.selector,h=void 0===g?K:g,Q(f),k=W(a,f)[Symbol.asyncIterator](),y(p,k.next(),2);case 2:l=p.h;if(l.done)throw Error("Sequence contains no elements");return y(p,h(l.value),3);case 3:m=p.h;case 4:return y(p,k.next(),6);case 6:if((l=p.h).done){p.g(5);break}return y(p,h(l.value),7);case 7:return q=p.h,y(p,e(q,m),8);case 8:0>p.h&&(m=q);p.g(4);break;case 5:return p.return(m)}})};
Z.minBy=function(a,b){b=b||{};var c=b.comparer,d=void 0===c?yb:c;return Ab(a,b.selector,function(e,f){return B(function(g){return 1==g.i?y(g,d(e,f),2):g.return(-g.h)})},b.signal)};Z.never=function(){return new Eb};Z.of=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];return new Fb(b)};Z.onErrorResumeNext=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];return new Gb(b)};
Z.pipe=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];return 0===c.length?a instanceof S?a:La(a):function(e){return c.reduce(function(f,g){return g(f)},e)}(a)};Z.race=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];return new Ib(b)};Z.range=function(a,b){return new Jb(a,b)};
Z.reduce=function(a,b){var c,d,e,f,g,h,k,l,m,q,p;return B(function(v){switch(v.i){case 1:c=b,d=c.seed,e=c.signal,f=c.callback,g=b.hasOwnProperty("seed"),Q(e),h=0,k=!1,l=d,m=C(W(a,e));case 2:return y(v,m.next(),5);case 5:q=v.h;if(q.done){v.g(4);break}p=q.value;if(!k&&!(k=g)){l=p;k=!0;h++;v.g(2);break}return y(v,f(l,p,h++,e),7);case 7:l=v.h;v.g(2);break;case 4:if(!g&&!k)throw Error("Sequence contains no elements");return v.return(l)}})};
Z.reduceRight=function(a,b){var c,d,e,f,g,h,k,l,m,q;return B(function(p){switch(p.i){case 1:return c=b,d=c.seed,e=c.signal,f=c.callback,g=b.hasOwnProperty("seed"),Q(e),y(p,Kb(a,e),2);case 2:h=p.h,k=!1,l=d,m=h.length-1;case 3:if(!(0<=m)){p.g(5);break}q=h[m];if(!k&&!(k=g)){l=q;k=!0;p.g(4);break}return y(p,f(l,q,m,e),7);case 7:l=p.h;case 4:m--;p.g(3);break;case 5:if(!g&&!k)throw Error("Sequence contains no elements");return p.return(l)}})};Z.repeatValue=function(a,b){return new Lb(a,void 0===b?-1:b)};
Z.sequenceEqual=function(a,b,c){var d,e,f,g,h,k,l,m,q;return B(function(p){switch(p.i){case 1:d=c||{},e=d.comparer,f=void 0===e?xb:e,g=d.signal,Q(g),h=W(a,g)[Symbol.asyncIterator](),k=W(b,g)[Symbol.asyncIterator]();case 2:return y(p,h.next(),4);case 4:return(l=p.h).done?y(p,k.next(),8):y(p,k.next(),5);case 5:if(!(q=!(m=p.h).done)){p.g(6);break}return y(p,f(l.value,m.value),7);case 7:q=p.h;case 6:if(!q)return p.return(!1);p.g(2);break;case 8:return p.return(!!p.h.done)}})};
Z.single=function(a,b){var c,d,e,f,g,h,k,l,m,q,p,v;return B(function(u){switch(u.i){case 1:c=b||{},d=c.signal,e=c.thisArg,f=c.predicate,g=void 0===f?function(){return B(function(x){return x.return(!0)})}:f,Q(d),k=!1,l=0,m=C(W(a,d));case 2:return y(u,m.next(),5);case 5:q=u.h;if(q.done){u.g(4);break}p=q.value;if(!(v=k)){u.g(6);break}return y(u,g.call(e,p,l++,d),7);case 7:v=u.h;case 6:if(v)throw Error("More than one element was found");return y(u,g.call(e,p,l++,d),8);case 8:u.h&&(h=p,k=!0);u.g(2);break;
case 4:return u.return(h)}})};Z.some=function(a,b){var c,d,e,f,g,h,k,l;return B(function(m){switch(m.i){case 1:c=b,d=c.signal,e=c.thisArg,f=c.predicate,Q(d),g=0,h=C(W(a,d));case 2:return y(m,h.next(),5);case 5:k=m.h;if(k.done){m.g(4);break}l=k.value;return y(m,f.call(e,l,g++,d),6);case 6:if(m.h)return m.return(!0);m.g(2);break;case 4:return m.return(!1)}})};
Z.sum=function(a,b){var c,d,e,f,g,h,k,l,m,q;return B(function(p){switch(p.i){case 1:c=b||{},d=c.selector,e=void 0===d?K:d,f=c.signal,g=c.thisArg,Q(f),h=0,k=C(W(a,f));case 2:return y(p,k.next(),5);case 5:l=p.h;if(l.done){p.g(4);break}m=l.value;q=h;return y(p,e.call(g,m,f),6);case 6:h=q+p.h;p.g(2);break;case 4:return p.return(h)}})};Z.throwError=function(a){return new Mb(a)};Z.toArray=Kb;Z.toDOMStream=Tb;Z.toDOMStreamProto=Vb;
Z.toMap=function(a,b){var c,d,e,f,g,h,k,l,m,q,p,v;return B(function(u){switch(u.i){case 1:c=b||{},d=c.signal,e=c.elementSelector,f=void 0===e?K:e,g=c.keySelector,h=void 0===g?K:g,Q(d),k=new Map,l=C(W(a,d));case 2:return y(u,l.next(),5);case 5:m=u.h;if(m.done){u.g(4);break}q=m.value;return y(u,f(q,d),6);case 6:return p=u.h,y(u,h(q,d),7);case 7:v=u.h;k.set(v,p);u.g(2);break;case 4:return u.return(k)}})};Z.toObservable=function(a){return new Zb(a)};
Z.toSet=function(a,b){var c,d,e,f;return B(function(g){switch(g.i){case 1:Q(b),c=new Set,d=C(W(a,b));case 2:return y(g,d.next(),5);case 5:e=g.h;if(e.done){g.g(4);break}f=e.value;c.add(f);g.g(2);break;case 4:return g.return(c)}})};Z.whileDo=function(a,b){return new $b(b,a)};Z.zip=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];return new ac(b)};Ga.prototype[Symbol.toStringTag]="__await";Object.defineProperty(Ga,Symbol.hasInstance,{writable:!0,configurable:!0,value:function(a){return!(!a||"__await"!==a[Symbol.toStringTag])}});Object.assign(arguments[0],Z);}.bind(this))));

//# sourceMappingURL=Ix.dom.asynciterable.es5.min.js.map
