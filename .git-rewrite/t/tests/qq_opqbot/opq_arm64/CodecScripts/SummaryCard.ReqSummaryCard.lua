local log = require("log")
--获取用户资料卡片
function PackCodecName()
    return "SummaryCard.ReqSummaryCard"
end
function PackPkg(t, User)
    bufs = PkgCodec.newBufferStream()
    bufs:WriteBuffer(
        {
            8,
            0,
            2,
            6,
            7,
            82,
            101,
            113,
            72,
            101,
            97,
            100,
            24,
            0,
            1,
            6,
            19,
            83,
            117,
            109,
            109,
            97,
            114,
            121,
            67,
            97,
            114,
            100,
            46,
            82,
            101,
            113,
            72,
            101,
            97,
            100,
            29,
            0,
            0,
            4,
            10,
            0,
            2,
            11,
            6,
            14,
            82,
            101,
            113,
            83,
            117,
            109,
            109,
            97,
            114,
            121,
            67,
            97,
            114,
            100,
            24,
            0,
            1,
            6,
            26,
            83,
            117,
            109,
            109,
            97,
            114,
            121,
            67,
            97,
            114,
            100,
            46,
            82,
            101,
            113,
            83,
            117,
            109,
            109,
            97,
            114,
            121,
            67,
            97,
            114,
            100,
            29,
            0,
            1,
            4,
            72,
            10,
            2
        }
    )
    bufs:WriteInt(4, t.UserID)
    bufs:WriteBuffer(
        {
            16,
            1,
            44,
            48,
            1,
            76,
            92,
            109,
            0,
            0,
            13,
            12,
            18,
            95,
            250,
            101,
            83,
            34,
            94,
            137,
            64,
            196,
            48,
            1,
            118,
            0,
            130,
            0,
            1,
            142,
            63,
            145,
            7,
            209,
            173,
            0,
            12,
            189,
            0,
            0,
            118,
            0,
            0,
            0,
            118,
            16,
            2,
            44,
            60,
            76,
            86,
            17,
            81,
            81,
            83,
            101,
            114,
            118,
            105,
            99,
            101,
            46,
            71,
            97,
            109,
            101,
            83,
            118,
            99,
            102,
            15,
            82,
            101,
            113,
            76,
            97,
            115,
            116,
            71,
            97,
            109,
            101,
            73,
            110,
            102,
            111,
            125,
            0,
            0,
            64,
            8,
            0,
            1,
            6,
            15,
            82,
            101,
            113,
            76,
            97,
            115,
            116,
            71,
            97,
            109,
            101,
            73,
            110,
            102,
            111,
            24,
            0,
            1,
            6,
            26,
            71,
            97,
            109,
            101,
            67,
            101,
            110,
            116,
            101,
            114,
            46,
            82,
            101,
            113,
            76,
            97,
            115,
            116,
            71,
            97,
            109,
            101,
            73,
            110,
            102,
            111,
            29,
            0,
            0,
            9,
            10,
            0,
            49,
            18
        }
    )
    bufs:WriteInt(4, t.UserID)
    bufs:WriteBuffer(
        {
            11,
            140,
            152,
            12,
            168,
            12,
            205,
            0,
            0,
            118,
            0,
            0,
            0,
            118,
            16,
            2,
            44,
            60,
            76,
            86,
            8,
            77,
            67,
            97,
            114,
            100,
            83,
            118,
            99,
            102,
            5,
            113,
            117,
            101,
            114,
            121,
            125,
            0,
            0,
            83,
            8,
            0,
            1,
            6,
            3,
            114,
            101,
            113,
            24,
            0,
            1,
            6,
            33,
            115,
            117,
            109,
            109,
            97,
            114,
            121,
            95,
            99,
            97,
            114,
            100,
            46,
            83,
            83,
            117,
            109,
            109,
            97,
            114,
            121,
            67,
            97,
            114,
            100,
            81,
            117,
            101,
            114,
            121,
            82,
            101,
            113,
            29,
            0,
            0,
            33,
            10,
            0,
            1,
            19,
            0,
            0,
            0,
            0
        }
    )
    bufs:WriteInt(4, User.DwUin)
    bufs:WriteBuffer({0x22})
    bufs:WriteInt(4, t.UserID)

    bufs:WriteBuffer(
        {
            54,
            9,
            56,
            46,
            53,
            46,
            53,
            46,
            54,
            52,
            56,
            64,
            1,
            80,
            110,
            11,
            140,
            152,
            12,
            168,
            12,
            221,
            0,
            12,
            233,
            0,
            7,
            13,
            0,
            0,
            21,
            40,
            0,
            0,
            0,
            11,
            0,
            0,
            0,
            0,
            40,
            2,
            96,
            1,
            106,
            5,
            56,
            46,
            53,
            46,
            53,
            41,
            13,
            0,
            0,
            125,
            40,
            0,
            0,
            0,
            105,
            0,
            0,
            0,
            10,
            8,
            1,
            24
        }
    )

    data = PkgCodec.newPbCodec()
    data:EncodeVarint(User.DwUin)
    UinBufs = data:GetPbData()
    bufs:WriteBuffer(UinBufs)

    bufs:WriteBuffer(
        {
            32,
            255,
            240,
            181,
            238,
            2,
            40,
            18,
            96,
            1,
            106,
            5,
            56,
            46,
            53,
            46,
            53,
            122,
            78,
            8,
            8,
            18,
            72,
            145,
            210,
            233,
            225,
            125,
            227,
            249,
            253,
            90,
            203,
            187,
            250,
            254,
            145,
            220,
            216,
            52,
            168,
            132,
            117,
            39,
            15,
            233,
            193,
            53,
            223,
            231,
            59,
            133,
            49,
            145,
            110,
            210,
            59,
            60,
            166,
            194,
            182,
            225,
            18,
            154,
            205,
            39,
            123,
            107,
            132,
            195,
            211,
            98,
            198,
            63,
            179,
            202,
            3,
            40,
            142,
            229,
            24,
            171,
            36,
            186,
            107,
            59,
            81,
            153,
            47,
            22,
            39,
            54,
            229,
            231,
            192,
            24,
            16,
            8,
            255,
            240,
            181,
            238,
            2,
            24,
            10,
            32,
            0,
            41,
            13,
            0,
            0,
            127,
            40,
            0,
            0,
            0,
            105,
            0,
            0,
            0,
            12,
            8,
            1,
            24
        }
    )
    bufs:WriteBuffer(UinBufs)
    bufs:WriteBuffer(
        {
            32,
            255,
            240,
            181,
            238,
            2,
            40,
            19,
            96,
            1,
            106,
            5,
            56,
            46,
            53,
            46,
            53,
            122,
            78,
            8,
            8,
            18,
            72,
            145,
            210,
            233,
            225,
            125,
            227,
            249,
            253,
            90,
            203,
            187,
            250,
            254,
            145,
            220,
            216,
            52,
            168,
            132,
            117,
            39,
            15,
            233,
            193,
            53,
            223,
            231,
            59,
            133,
            49,
            145,
            110,
            210,
            59,
            60,
            166,
            194,
            182,
            225,
            18,
            154,
            205,
            39,
            123,
            107,
            132,
            195,
            211,
            98,
            198,
            63,
            179,
            202,
            3,
            40,
            142,
            229,
            24,
            171,
            36,
            186,
            107,
            59,
            81,
            153,
            47,
            22,
            39,
            54,
            229,
            231,
            192,
            24,
            16,
            8,
            255,
            240,
            181,
            238,
            2,
            16,
            10,
            24,
            0,
            40,
            1,
            41,
            13,
            0,
            0,
            21,
            40,
            0,
            0,
            0,
            11,
            0,
            0,
            0,
            0,
            40,
            4,
            96,
            1,
            106,
            5,
            56,
            46,
            53,
            46,
            53,
            41,
            13,
            0,
            1,
            0,
            149,
            40,
            0,
            0,
            0,
            25,
            0,
            0,
            0,
            114,
            8,
            1,
            24
        }
    )
    bufs:WriteBuffer(UinBufs)
    bufs:WriteBuffer(
        {
            32,
            255,
            240,
            181,
            238,
            2,
            40,
            16,
            96,
            1,
            106,
            5,
            56,
            46,
            53,
            46,
            53,
            8,
            3,
            18,
            6,
            8,
            255,
            240,
            181,
            238,
            2,
            26,
            6,
            8,
            255,
            240,
            181,
            238,
            2,
            34,
            10,
            8,
            4,
            18,
            6,
            8,
            255,
            240,
            181,
            238,
            2,
            42,
            4,
            8,
            222,
            202,
            2,
            42,
            9,
            8,
            228,
            202,
            2,
            18,
            3,
            105,
            110,
            116,
            42,
            9,
            8,
            232,
            202,
            2,
            18,
            3,
            105,
            110,
            116,
            42,
            9,
            8,
            242,
            202,
            2,
            18,
            3,
            105,
            110,
            116,
            42,
            9,
            8,
            239,
            213,
            1,
            18,
            3,
            105,
            110,
            116,
            50,
            6,
            8
        }
    )
    bufs:WriteBuffer(UinBufs)
    bufs:WriteBuffer(
        {
            58,
            24,
            10,
            17,
            108,
            97,
            115,
            116,
            95,
            101,
            120,
            112,
            111,
            115,
            101,
            95,
            115,
            99,
            111,
            114,
            101,
            18,
            3,
            56,
            48,
            51,
            41,
            13,
            0,
            0,
            83,
            40,
            0,
            0,
            0,
            25,
            0,
            0,
            0,
            48,
            8,
            1,
            24
        }
    )
    bufs:WriteBuffer(UinBufs)
    bufs:WriteBuffer(
        {
            32,
            255,
            240,
            181,
            238,
            2,
            40,
            15,
            96,
            1,
            106,
            5,
            56,
            46,
            53,
            46,
            53,
            10,
            28,
            112,
            114,
            111,
            102,
            105,
            108,
            101,
            86,
            105,
            115,
            105,
            116,
            111,
            114,
            46,
            103,
            101,
            116,
            86,
            105,
            115,
            105,
            116,
            111,
            114,
            67,
            110,
            116,
            18,
            16,
            8,
            255,
            240,
            181,
            238,
            2,
            16
        }
    )

    bufs:WriteBuffer(UinBufs)
    bufs:WriteBuffer({24, 0, 32, 1, 41, 13, 0, 1, 0, 128, 40, 0, 0, 0, 105, 0, 0, 0, 13, 8, 1, 24})
    bufs:WriteBuffer(UinBufs)
    bufs:WriteBuffer(
        {
            32,
            255,
            240,
            181,
            238,
            2,
            40,
            17,
            96,
            1,
            106,
            5,
            56,
            46,
            53,
            46,
            53,
            122,
            78,
            8,
            8,
            18,
            72,
            145,
            210,
            233,
            225,
            125,
            227,
            249,
            253,
            90,
            203,
            187,
            250,
            254,
            145,
            220,
            216,
            52,
            168,
            132,
            117,
            39,
            15,
            233,
            193,
            53,
            223,
            231,
            59,
            133,
            49,
            145,
            110,
            210,
            59,
            60,
            166,
            194,
            182,
            225,
            18,
            154,
            205,
            39,
            123,
            107,
            132,
            195,
            211,
            98,
            198,
            63,
            179,
            202,
            3,
            40,
            142,
            229,
            24,
            171,
            36,
            186,
            107,
            59,
            81,
            153,
            47,
            22,
            39,
            54,
            229,
            231,
            192,
            24,
            16,
            10,
            9,
            55,
            54,
            56,
            52,
            52,
            48,
            52,
            52,
            55,
            16,
            1,
            41,
            252,
            15,
            240,
            16,
            1,
            250,
            17,
            28,
            44,
            11,
            240,
            18,
            1,
            249,
            19,
            0,
            19,
            1,
            106,
            89,
            1,
            106,
            88,
            1,
            106,
            100,
            2,
            0,
            0,
            164,
            137,
            2,
            0,
            0,
            164,
            138,
            1,
            106,
            102,
            2,
            0,
            0,
            164,
            183,
            2,
            0,
            0,
            164,
            188,
            2,
            0,
            0,
            157,
            132,
            2,
            0,
            0,
            165,
            86,
            2,
            0,
            0,
            165,
            85,
            2,
            0,
            0,
            165,
            123,
            2,
            0,
            0,
            165,
            127,
            2,
            0,
            0,
            165,
            137,
            2,
            0,
            0,
            165,
            121,
            2,
            0,
            0,
            165,
            116,
            2,
            0,
            0,
            165,
            185,
            2,
            0,
            0,
            165,
            248,
            2,
            0,
            0,
            166,
            9,
            240,
            20,
            1,
            252,
            21,
            240,
            22,
            1,
            253,
            23,
            0,
            12,
            252,
            24,
            11
        }
    )
    str = string.format("ReqSummaryCard  Pb %s", PkgCodec.HexDump(bufs:GetBuffer()))
    log.info("%s", str)
    PkgCodec.SendSSoData(
        {
            User = User,
            ServiceCmd = "SummaryCard.ReqSummaryCard",
            ServantName = "QQService.MCardSvc.SummaryServantObj",
            SFuncName = "ReqSummaryCard",
            SsoData = bufs:GetBuffer()
        }
    )
    return 0
end
function UnPackPkg(rawData, User)
    jceOutStream = PkgCodec.newBufferStream(rawData)
    jceOutStream:Skip(117)
    jceOutStream:JceReadStruct()
    --str = string.format("RespSummaryCard %s", PkgCodec.HexDump(jceOutStream:GetBuffer()))
    --log.info("%s", str)

    Sex = jceOutStream:JceReadInt(1)
    Age = jceOutStream:JceReadInt(2)
    NickName = jceOutStream:JceReadString(3)
    QQLevel = jceOutStream:JceReadInt(5)
    Province = jceOutStream:JceReadString(6)
    City = jceOutStream:JceReadString(7)
    LikeNums = jceOutStream:JceReadInt(16)
    QQUin = jceOutStream:JceReadInt(23)
    LoginDays = jceOutStream:JceReadInt(36)
    return {
        QQUin = QQUin,
        NickName = NickName,
        Sex = Sex,
        Age = Age,
        QQLevel = QQLevel,
        Province = Province,
        City = City,
        LikeNums = LikeNums,
        LoginDays = LoginDays
    }
end
